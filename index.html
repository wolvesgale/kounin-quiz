<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>高卒認定 学習クイズ（サーバーレス）</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    :root{--bg:#0f172a;--ink:#e5e7eb;--card:#111827;--muted:#94a3b8;--btn:#1e40af;--btnH:#2563eb;--ok:#16a34a;--ng:#dc2626;
           --lightbg:#f8fafc;--lightink:#0b1020;--lightcard:#ffffff;--lightmuted:#475569}
    body{font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial;background:var(--bg);color:var(--ink);margin:0}
    header{padding:12px 16px;background:#1f2937;text-align:center;font-size:18px}
    .wrap{max-width:900px;margin:0 auto;padding:16px}
    .row{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
    input,select,button{font-size:16px;padding:8px 10px;border-radius:8px}
    input,select{border:1px solid #334155;background:#0b1220;color:var(--ink)}
    button{background:var(--btn);color:#fff;border:none;cursor:pointer}
    button:hover{background:var(--btnH)}
    .muted{color:var(--muted)}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:10px}
    .pill{background:#0b1220;border:1px solid #334155;color:var(--ink);padding:10px;border-radius:999px;cursor:pointer;text-align:center}
    .card{background:var(--card);border:1px solid #334155;border-radius:12px;padding:12px;margin:12px 0}
    .choices button{display:block;width:100%;text-align:left;margin:6px 0;background:#0b1220;border:1px solid #334155}
    .correct{background:#0f5132!important}
    .wrong{background:#5f1414!important}
    .explain{margin-top:8px}
    .hidden{display:none}
    /* light */
    body.light{background:var(--lightbg);color:var(--lightink)}
    body.light header{background:#e2e8f0;color:#0b1020}
    body.light .card{background:var(--lightcard);border-color:#cbd5e1}
    body.light input,body.light select{background:#f1f5f9;border-color:#cbd5e1;color:#0b1020}
    body.light .pill{background:#f1f5f9;border-color:#cbd5e1;color:#0b1020}
    body.light .choices button{background:#f1f5f9;border-color:#cbd5e1;color:#0b1020}
    body.light .muted{color:var(--lightmuted)}
  </style>
</head>
<body>
<header>高卒認定 学習クイズ（サーバーレス）</header>
<div class="wrap">
  <div class="row">
    <label>出題順序
      <select id="order">
        <option value="fixed">順番どおり</option>
        <option value="random">ランダム</option>
      </select>
    </label>
    <label>出題数 <input id="limit" type="number" min="0" value="0" style="width:120px"> (0=全件)</label>
    <button id="fontSm">A−</button>
    <button id="fontLg">A＋</button>
    <button id="theme">明るく/暗く</button>
    <button id="btnWeak">苦手一覧</button>
  </div>

  <p class="muted">シートは固定URLから自動読み込みします。更新はシート側で行ってください。</p>

  <div id="home" class="card">
    <div class="muted">科目を選択してください（CSVの subject 列から自動生成）</div>
    <div id="subjects" class="grid" style="margin-top:8px"></div>
  </div>

  <div id="quiz" class="hidden"></div>

  <div id="weak" class="hidden card">
    <div class="row">
      <h3 style="margin:0">苦手問題一覧</h3>
      <select id="weakFilter"><option value="">（すべての科目）</option></select>
      <button id="weakBack">TOPへ</button>
      <button id="weakClear">全削除</button>
    </div>
    <div id="weakList"></div>
  </div>
</div>

<!-- 外部JS（ASCIIのみ） -->
<script defer src="app.js"></script>
</body>
</html>
